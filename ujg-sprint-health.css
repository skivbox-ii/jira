/* UJG Sprint Health v1.2 */
.ujg-sprint-health { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; font-size: 13px; color: #172b4d; width: 100%; max-width: none; }
.ujg-wide-container, .dashboard-item-content .ujg-sprint-health, .dashboard-item-content .ujg-wide-container, .aui-page-panel .ujg-sprint-health { width: 100% !important; max-width: none !important; flex: 1 1 auto !important; }

/* Панель */
.ujg-panel { display: flex; align-items: center; gap: 8px; padding: 8px; background: #f4f5f7; border-radius: 4px; margin-bottom: 8px; }
.ujg-sel, .ujg-input { padding: 6px 10px; border: 1px solid #dfe1e6; border-radius: 3px; font-size: 12px; background: #fff; }
.ujg-sel { min-width: 100px; }
.ujg-input { flex: 1; min-width: 180px; }
.ujg-sel:focus, .ujg-input:focus { border-color: #0052cc; outline: none; }
.ujg-btn { padding: 6px 10px; border: 1px solid #dfe1e6; border-radius: 3px; background: #fff; cursor: pointer; font-size: 13px; }
.ujg-btn:hover { background: #ebecf0; }
.ujg-btn-fs { margin-left: auto; background: #6554c0; color: #fff; border-color: #6554c0; }

/* Dropdown */
.ujg-dd-wrap { position: relative; flex: 1; max-width: 300px; }
.ujg-dd { position: absolute; top: 100%; left: 0; right: 0; max-height: 300px; overflow-y: auto; background: #fff; border: 1px solid #dfe1e6; border-radius: 3px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); z-index: 1000; display: none; }
.ujg-dd.ujg-show { display: block; }
.ujg-dd-item { padding: 8px 12px; cursor: pointer; font-size: 12px; border-bottom: 1px solid #f4f5f7; }
.ujg-dd-item:hover { background: #f4f5f7; }
.ujg-dd-item.ujg-active { background: #e3fcef; font-weight: 600; }
.ujg-dd-more, .ujg-dd-empty { padding: 8px 12px; color: #6b778c; font-size: 11px; text-align: center; }

/* Loading */
.ujg-loading { padding: 20px; text-align: center; color: #6b778c; }
.ujg-ok { padding: 10px; background: #e3fcef; color: #006644; border-radius: 4px; margin-bottom: 8px; font-size: 12px; }

/* Health */
.ujg-health { display: flex; align-items: center; gap: 10px; padding: 10px; background: #fff; border-radius: 4px; border: 1px solid #dfe1e6; margin-bottom: 8px; }
.ujg-hbar { flex: 1; height: 8px; background: #ebecf0; border-radius: 4px; overflow: hidden; }
.ujg-hfill { height: 100%; border-radius: 4px; }
.ujg-hpct { font-size: 20px; font-weight: 700; }
.ujg-hlbl { font-size: 11px; color: #6b778c; }

/* Metrics */
.ujg-mrow { display: flex; gap: 6px; margin-bottom: 8px; flex-wrap: wrap; }
.ujg-m { display: flex; align-items: center; gap: 6px; padding: 8px 10px; background: #fff; border-radius: 4px; border: 1px solid #dfe1e6; border-left: 3px solid #dfe1e6; flex: 1; min-width: 120px; }
.ujg-mi { font-size: 16px; }
.ujg-mv { font-size: 16px; font-weight: 700; }
.ujg-ml { font-size: 10px; color: #6b778c; }

/* Chart */
.ujg-chart-wrap { background: #fff; border-radius: 4px; border: 1px solid #dfe1e6; margin-bottom: 8px; overflow: hidden; }
.ujg-chart-hdr { display: flex; align-items: center; gap: 12px; padding: 8px 12px; background: #f4f5f7; border-bottom: 1px solid #dfe1e6; flex-wrap: wrap; }
.ujg-chart-title { font-weight: 600; font-size: 13px; }
.ujg-toggle { display: flex; gap: 2px; background: #ebecf0; border-radius: 3px; padding: 2px; }
.ujg-tog { padding: 3px 10px; font-size: 11px; cursor: pointer; border-radius: 2px; color: #6b778c; }
.ujg-tog.on { background: #fff; color: #0052cc; font-weight: 500; }
.ujg-legend { display: flex; gap: 12px; margin-left: auto; font-size: 11px; color: #6b778c; }
.ujg-leg { display: flex; align-items: center; gap: 4px; }
.ujg-leg i { width: 12px; height: 3px; border-radius: 2px; }

.ujg-chart-body { position: relative; padding: 10px 10px 25px 35px; }
.ujg-svg { width: 100%; height: 180px; display: block; }
.ujg-xaxis { position: absolute; bottom: 5px; left: 35px; right: 10px; height: 15px; font-size: 9px; color: #6b778c; }
.ujg-xaxis span { position: absolute; transform: translateX(-50%); white-space: nowrap; }
.ujg-yaxis { position: absolute; top: 10px; left: 0; bottom: 25px; width: 30px; font-size: 9px; color: #6b778c; text-align: right; }
.ujg-yaxis span { position: absolute; right: 5px; transform: translateY(-50%); }

/* Section title */
.ujg-section-title { font-size: 12px; font-weight: 600; margin-bottom: 6px; padding-bottom: 4px; border-bottom: 1px solid #dfe1e6; }

/* Problems */
.ujg-probs { margin-bottom: 8px; background: #fff; border-radius: 4px; border: 1px solid #dfe1e6; padding: 10px; }
.ujg-prob-tbl { width: 100%; border-collapse: collapse; font-size: 11px; }
.ujg-prob-tbl th, .ujg-prob-tbl td { padding: 6px 8px; text-align: left; border-bottom: 1px solid #ebecf0; }
.ujg-prob-tbl th { background: #f4f5f7; font-weight: 600; font-size: 10px; text-transform: uppercase; color: #6b778c; }
.ujg-prob-tbl a { color: #0052cc; text-decoration: none; font-weight: 500; }
.ujg-prob-tbl a:hover { text-decoration: underline; }
.ujg-prob-sum { max-width: 200px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.ujg-prob-row:hover { background: #f4f5f7; }

.ujg-st { display: inline-block; padding: 2px 6px; border-radius: 3px; font-size: 10px; font-weight: 500; }
.ujg-st-new, .ujg-st-undefined { background: #dfe1e6; color: #42526e; }
.ujg-st-indeterminate { background: #deebff; color: #0052cc; }
.ujg-st-done { background: #e3fcef; color: #006644; }

.ujg-rollover { background: #ffebe6; color: #de350b; padding: 2px 6px; border-radius: 3px; font-weight: 600; }

.ujg-prob-type { padding: 2px 6px; border-radius: 3px; font-size: 10px; font-weight: 500; }
.ujg-prob-noest { background: #fffae6; color: #974f0c; }
.ujg-prob-noasgn { background: #deebff; color: #0052cc; }
.ujg-prob-big { background: #ffebe6; color: #de350b; }
.ujg-prob-overdue { background: #ffebe6; color: #de350b; }
.ujg-prob-rollover { background: #f4f5f7; color: #5e6c84; }

/* Tooltip */
.ujg-tooltip { position: fixed; z-index: 10000; background: #fff; border: 1px solid #dfe1e6; border-radius: 4px; box-shadow: 0 4px 16px rgba(0,0,0,0.2); padding: 12px; max-width: 400px; font-size: 12px; display: none; }
.ujg-tooltip.ujg-show { display: block; }
.ujg-tip-hdr { font-weight: 600; margin-bottom: 8px; padding-bottom: 6px; border-bottom: 1px solid #ebecf0; }
.ujg-tip-row { margin-bottom: 4px; color: #5e6c84; }
.ujg-tip-row b { color: #172b4d; }
.ujg-tip-desc { margin-top: 8px; padding-top: 8px; border-top: 1px solid #ebecf0; color: #6b778c; font-size: 11px; line-height: 1.4; }

/* Assignees */
.ujg-asgn-wrap { margin-bottom: 8px; background: #fff; border-radius: 4px; border: 1px solid #dfe1e6; padding: 10px; }
.ujg-asgn-list { display: flex; flex-direction: column; gap: 4px; }
.ujg-asgn { display: flex; align-items: center; gap: 8px; }
.ujg-asgn-name { min-width: 120px; max-width: 140px; font-size: 11px; font-weight: 500; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.ujg-asgn-bar { flex: 1; height: 14px; background: #ebecf0; border-radius: 3px; overflow: hidden; }
.ujg-asgn-fill { height: 100%; background: linear-gradient(90deg, #0052cc, #4c9aff); border-radius: 3px; }
.ujg-asgn-val { min-width: 80px; font-size: 10px; color: #6b778c; text-align: right; }

/* Table */
.ujg-tbl-wrap { background: #fff; border-radius: 4px; border: 1px solid #dfe1e6; overflow: hidden; }
.ujg-tbl { width: 100%; border-collapse: collapse; font-size: 11px; }
.ujg-tbl th, .ujg-tbl td { padding: 6px 8px; text-align: left; border-bottom: 1px solid #ebecf0; }
.ujg-tbl th { background: #f4f5f7; font-weight: 600; font-size: 10px; text-transform: uppercase; color: #6b778c; position: sticky; top: 0; }
.ujg-grp { background: #f4f5f7; cursor: pointer; }
.ujg-grp:hover { background: #ebecf0; }
.ujg-grp td { font-size: 12px; }
.ujg-grp span { color: #6b778c; font-weight: 400; font-size: 11px; }
.ujg-row:hover { background: #fafbfc; }
.ujg-tbl a { color: #0052cc; text-decoration: none; font-weight: 500; }
.ujg-tbl a.ujg-done { text-decoration: line-through; color: #6b778c; }
.ujg-sub { background: #f9fafb; }
.ujg-sub-name { padding-left: 14px; font-size: 11px; color: #42526e; }
.ujg-sub-strike { text-decoration: line-through; color: #8c8c8c; }
.ujg-tm-toggle { display: inline-block; margin-left: 6px; font-size: 11px; cursor: pointer; color: #6b778c; }
.ujg-tm-toggle.on { color: #0052cc; font-weight: 700; }
.ujg-tm-toggle:hover { color: #172b4d; }

/* Gantt */
.ujg-gantt { position: relative; display: flex; gap: 0; height: 16px; cursor: pointer; background: #fff; border: 1px solid #dfe1e6; border-radius: 2px; overflow: hidden; }
.ujg-gantt-wl { height: 16px; border-color: #cbdcf7; background: #f7f9ff; }
.ujg-gc { position: relative; flex: 1; min-width: 6px; height: 100%; background: #f4f5f7; border-right: 1px solid #dfe1e6; box-sizing: border-box; display: flex; align-items: center; justify-content: center; font-size: 9px; color: #1b1b1b; }
.ujg-gantt-wl .ujg-gc { background: #eef3fb; border-right-color: #cbdcf7; }
.ujg-gc:last-child { border-right: none; }
.ujg-gt { background: #646a7a; }
.ujg-gp { background: #2d66b2; color: #fff; }
.ujg-gd { background: #119c62; color: #fff; }
.ujg-gx { background: repeating-linear-gradient(45deg, #dfe1e6, #dfe1e6 2px, #f4f5f7 2px, #f4f5f7 4px); }
.ujg-gc-preview { outline: 1px dashed #0052cc; background: #deebff; }
.ujg-dragging .ujg-gc { cursor: ew-resize; }
.ujg-gc-today:after, .ujg-gh-today:after { content: ""; position: absolute; left: 50%; top: -2px; bottom: -2px; width: 1px; background: #de350b; pointer-events: none; }
.ujg-gc-log { box-shadow: inset 0 0 0 1px #90caf9; background: inherit; }
.ujg-gantt-wl .ujg-gc-log { background: #d5e4ff; box-shadow: inset 0 0 0 1px #7da2ff; }
.ujg-wl { font-weight: 700; font-size: 9px; line-height: 1; pointer-events: none; color: #fff; text-shadow: 0 1px 2px rgba(0,0,0,0.35); }
.ujg-gantt-wl .ujg-wl { color: #0d47a1; text-shadow: none; }
.ujg-wl-row .ujg-gantt-wl { width: 100%; }

.ujg-th-gantt { min-width: 240px; }
.ujg-ghead { display: flex; align-items: stretch; justify-content: stretch; height: 42px; border: 1px solid #ebecf0; border-radius: 2px; overflow: hidden; background: #fff; }
.ujg-gh-cell { position: relative; flex: 1; border-right: 1px solid #ebecf0; box-sizing: border-box; display: flex; align-items: flex-end; justify-content: center; }
.ujg-gh-cell:last-child { border-right: none; }
.ujg-gh-cell span { writing-mode: vertical-rl; transform: rotate(180deg); font-size: 9px; color: #6b778c; line-height: 1; padding: 2px 1px; }

/* Estimate inline edit */
.ujg-est { cursor: pointer; white-space: nowrap; }
.ujg-est-edit { padding: 0; }
.ujg-est-input { width: 60px; padding: 2px 4px; font-size: 11px; box-sizing: border-box; }
.ujg-est-err { background: #ffecec !important; border: 1px solid #f66 !important; }

/* Fullscreen */
.ujg-fullscreen { position: fixed !important; top: 0 !important; left: 0 !important; width: 100vw !important; height: 100vh !important; z-index: 9999 !important; background: #f4f5f7 !important; overflow: auto !important; padding: 15px !important; box-sizing: border-box !important; }
.ujg-fullscreen .ujg-sprint-health { max-width: 1600px; margin: 0 auto; }

@media (max-width: 768px) {
    .ujg-panel { flex-wrap: wrap; }
    .ujg-dd-wrap { max-width: none; flex: 1 1 100%; }
    .ujg-mrow { flex-direction: column; }
    .ujg-m { flex: none; }
    .ujg-legend { display: none; }
}
